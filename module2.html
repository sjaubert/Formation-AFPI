<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2 : S√©curisation des Donn√©es</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .slide { display: none; }
        .slide.active { 
            display: flex; 
            flex-direction: column;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .quiz-option { transition: background-color 0.2s; }
        #phishing-modal { transition: opacity 0.3s; }
        .email-item { cursor: pointer; }
    </style>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">

    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-6 py-3 flex items-center">
            <img src="logo_uimm_placeholder.jpg" alt="Logo UIMM P√¥le Formation" class="h-16 w-auto mr-6">
            <div>
                <h1 class="text-2xl font-bold text-blue-800">Module 2 : S√©curisation des Donn√©es</h1>
                <p class="text-sm text-gray-500">D√©jouez les pi√®ges et prot√©gez les informations.</p>
            </div>
        </div>
    </header>

    <main id="slideshow-container" class="flex-grow container mx-auto p-4 md:p-8 flex flex-col items-center justify-center">
        <!-- Slides de contenu -->
        <section class="slide active w-full max-w-4xl bg-white p-8 rounded-lg shadow-lg text-center justify-center">
            <h2 class="text-4xl font-bold text-blue-800 mb-4">La s√©curit√© num√©rique, une cha√Æne aussi solide que son maillon le plus faible.</h2>
            <p class="text-xl text-gray-600">Ce maillon, c'est vous. Apprenons √† le renforcer.</p>
        </section>

        <section class="slide w-full max-w-4xl bg-white p-8 rounded-lg shadow-lg">
            <h2 class="text-3xl font-bold text-blue-800 mb-4">1. Le Phishing (ou Hame√ßonnage)</h2>
            <p class="text-lg text-gray-700 mb-4">C'est une technique de fraude o√π un pirate se fait passer pour une entit√© de confiance (banque, direction, etc.) pour vous soutirer des informations personnelles.</p>
            <p class="font-semibold text-gray-800">Leur arme principale ? L'email. Leur but ? Que vous cliquiez sur un lien pi√©g√©.</p>
        </section>

        <section class="slide w-full max-w-4xl bg-white p-8 rounded-lg shadow-lg">
            <h2 class="text-3xl font-bold text-blue-800 mb-2">Activit√© : Saurez-vous d√©jouer le pi√®ge ?</h2>
            <p class="text-gray-600 mb-6 text-center">Vous voici devant votre bo√Æte de r√©ception. Un de ces emails est une tentative de phishing. Cliquez sur les emails pour les lire, et d√©cidez quoi faire.</p>
            <div class="bg-gray-50 rounded-lg p-4 border">
                <div id="email-list">
                    <!-- Les emails seront inject√©s ici par JS -->
                </div>
            </div>
        </section>

        <section class="slide w-full max-w-4xl bg-white p-8 rounded-lg shadow-lg">
             <h2 class="text-3xl font-bold text-red-700 mb-4">2. Le Ransomware (Ran√ßongiciel)</h2>
             <p class="text-lg text-gray-700 mb-4">Si vous aviez cliqu√© sur un mauvais lien, vous auriez pu d√©clencher un ransomware. C'est un virus qui <span class="font-semibold">chiffre tous vos fichiers</span> et exige une ran√ßon pour vous rendre la cl√©.</p>
            <div class="mt-6 p-4 bg-red-50 rounded-lg text-center">
                <p class="text-5xl">üìÑ ‚û°Ô∏è üîí</p>
                <p class="font-bold text-red-800 mt-2">Vos documents deviennent des coffres-forts dont vous n'avez plus la cl√©.</p>
                <p class="text-sm text-gray-700 mt-2">La meilleure d√©fense : la prudence en amont et des sauvegardes r√©guli√®res.</p>
            </div>
        </section>

        <section class="slide w-full max-w-4xl bg-white p-8 rounded-lg shadow-lg">
            <h2 class="text-3xl font-bold text-yellow-700 mb-4">3. Le "Shadow IT" (Outils non autoris√©s)</h2>
            <p class="text-lg text-gray-700 mb-4">C'est l'utilisation d'applications ou services non valid√©s par l'entreprise (ex: WeTransfer, Dropbox personnel, Trello gratuit) pour des t√¢ches professionnelles.</p>
            <div class="mt-6 p-4 bg-yellow-50 rounded-lg">
                <h3 class="font-bold text-yellow-800">Quels sont les risques ?</h3>
                <ul class="list-disc list-inside mt-2 text-gray-700">
                    <li><span class="font-semibold">Fuites de donn√©es :</span> Vous ne savez pas o√π les informations sont stock√©es.</li>
                    <li><span class="font-semibold">Absence de supervision :</span> L'entreprise perd le contr√¥le sur ses propres donn√©es.</li>
                    <li><span class="font-semibold">Failles de s√©curit√© :</span> Ces outils peuvent ne pas avoir le m√™me niveau de s√©curit√© que les outils officiels.</li>
                </ul>
            </div>
        </section>

        <section class="slide w-full max-w-4xl bg-white p-8 rounded-lg shadow-lg">
            <div id="quiz-container-m2">
                <h2 class="text-2xl font-bold text-blue-800 mb-4 text-center">Quiz Final : Validez vos r√©flexes</h2>
                <div id="quiz-progress-m2" class="text-center text-sm text-gray-500 mb-4"></div>
                <div id="quiz-question-container-m2" class="bg-gray-50 p-6 rounded-lg">
                    <p id="quiz-question-text-m2" class="text-lg font-semibold mb-4"></p>
                    <div id="quiz-options-m2" class="space-y-3"></div>
                </div>
                <div id="quiz-feedback-m2" class="mt-4 text-center font-semibold"></div>
                <div id="quiz-navigation-m2" class="text-center mt-6"></div>
            </div>
        </section>
    </main>

    <footer class="container mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
            <button id="prev-btn" class="bg-white text-blue-700 px-6 py-2 rounded-lg shadow hover:bg-gray-50 disabled:opacity-50">Pr√©c√©dent</button>
            <div id="progress-indicator" class="text-sm text-gray-500"></div>
            <button id="next-btn" class="bg-blue-600 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-700">Suivant</button>
        </div>
    </footer>

    <!-- Modale pour la simulation de phishing -->
    <div id="phishing-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 opacity-0 pointer-events-none z-50">
        <div id="email-content-modal" class="bg-white rounded-lg shadow-2xl max-w-2xl w-full p-6 relative hidden">
            <!-- Contenu de l'email affich√© ici -->
        </div>
        <div id="phishing-feedback-modal" class="bg-white rounded-lg shadow-2xl max-w-2xl w-full p-8 text-center relative hidden">
            <!-- Feedback apr√®s clic sur le lien -->
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressIndicator = document.getElementById('progress-indicator');

        function showSlide(index) {
            slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
            currentSlide = index;
            updateControls();
        }

        function updateControls() {
            prevBtn.disabled = currentSlide === 0;
            if (currentSlide === slides.length - 1) {
                nextBtn.textContent = 'Terminer le module';
            } else {
                nextBtn.textContent = 'Suivant';
            }
            progressIndicator.textContent = `√âcran ${currentSlide + 1} sur ${slides.length}`;
        }

        prevBtn.addEventListener('click', () => { if (currentSlide > 0) showSlide(currentSlide - 1); });
        nextBtn.addEventListener('click', () => {
            if (currentSlide < slides.length - 1) showSlide(currentSlide + 1);
            else window.location.href = 'plan.html';
        });
        showSlide(0);

        // --- SIMULATION PHISHING ---
        const emails = [
            { id: 1, sender: 'Service Paie', subject: 'Votre bulletin de salaire est disponible', isPhishing: false, content: `Bonjour,<br><br>Votre bulletin de salaire pour le mois en cours est maintenant disponible sur le portail RH s√©curis√© de l'entreprise.<br><br>Cordialement,<br>Le Service Paie` },
            { id: 2, sender: 'support-info@uimm-serveur.com', subject: 'URGENT: Suspension de votre compte', isPhishing: true, content: `Bonjour,<br><br>Une activit√© suspecte a √©t√© d√©tect√©e sur votre compte. Par mesure de s√©curit√©, nous l'avons temporairement suspendu.<br><br>Veuillez v√©rifier votre compte imm√©diatement en cliquant sur le lien ci-dessous pour √©viter une suppression d√©finitive.<br><br><a href="#" onclick="handlePhishingClick(event)" class="text-blue-600 underline">https://uimm-portail.com/verification</a><br><br>Cordialement,<br>Le support technique`},
            { id: 3, sender: 'Communication Interne', subject: 'Invitation au pot de d√©part de M. Dupont', isPhishing: false, content: `Bonjour √† tous,<br><br>Vous √™tes convi√©s au pot de d√©part de Jean Dupont qui aura lieu vendredi √† 17h en salle de pause.<br><br>Nous comptons sur votre pr√©sence !` },
        ];
        
        const emailListContainer = document.getElementById('email-list');
        emails.forEach(email => {
            const emailDiv = document.createElement('div');
            emailDiv.className = 'email-item flex justify-between items-center p-3 border-b hover:bg-gray-200';
            emailDiv.innerHTML = `<div class="font-semibold">${email.sender}</div><div class="text-gray-700">${email.subject}</div>`;
            emailDiv.onclick = () => openEmail(email.id);
            emailListContainer.appendChild(emailDiv);
        });

        const phishingModal = document.getElementById('phishing-modal');
        const emailContentModal = document.getElementById('email-content-modal');
        const phishingFeedbackModal = document.getElementById('phishing-feedback-modal');

        function openModal() {
            phishingModal.classList.remove('opacity-0', 'pointer-events-none');
        }
        function closeModal() {
            phishingModal.classList.add('opacity-0', 'pointer-events-none');
            emailContentModal.classList.add('hidden');
            phishingFeedbackModal.classList.add('hidden');
        }
        
        function openEmail(id) {
            const email = emails.find(e => e.id === id);
            emailContentModal.innerHTML = `
                <h3 class="text-lg font-bold mb-2">${email.subject}</h3>
                <p class="text-sm text-gray-500 mb-4">De : ${email.sender}</p>
                <div class="text-gray-800">${email.content}</div>
                <div class="mt-6 text-right">
                    <button onclick="closeModal()" class="bg-gray-300 px-4 py-2 rounded-lg hover:bg-gray-400">Fermer</button>
                    ${email.isPhishing ? `<button onclick="reportPhishing()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 ml-2">Signaler comme Phishing</button>` : ''}
                </div>
            `;
            emailContentModal.classList.remove('hidden');
            phishingFeedbackModal.classList.add('hidden');
            openModal();
        }

        function handlePhishingClick(event) {
            event.preventDefault();
            phishingFeedbackModal.innerHTML = `
                <h2 class="text-3xl font-bold text-red-600 mb-4">PI√âGE !</h2>
                <p class="text-lg mb-4">Vous avez cliqu√© sur un lien de phishing. Dans la r√©alit√©, un logiciel malveillant aurait pu √™tre install√©.</p>
                <div class="text-left bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-bold mb-2">Les indices qui auraient d√ª vous alerter :</h3>
                    <ul class="list-disc list-inside text-sm">
                        <li><b>Exp√©diteur suspect :</b> "uimm-serveur.com" n'est pas le domaine officiel.</li>
                        <li><b>Caract√®re d'urgence :</b> "URGENT", "suspension", "suppression d√©finitive" sont des leviers pour vous faire paniquer et agir vite.</li>
                        <li><b>Lien douteux :</b> M√™me s'il ressemble √† un lien l√©gitime, il faut toujours v√©rifier l'adresse exacte avant de cliquer.</li>
                    </ul>
                </div>
                <button onclick="closeModal()" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg shadow">J'ai compris</button>
            `;
            emailContentModal.classList.add('hidden');
            phishingFeedbackModal.classList.remove('hidden');
        }

        function reportPhishing() {
             phishingFeedbackModal.innerHTML = `
                <h2 class="text-3xl font-bold text-green-600 mb-4">EXCELLENT R√âFLEXE !</h2>
                <p class="text-lg mb-4">Vous avez identifi√© la menace sans tomber dans le pi√®ge.</p>
                <p>Signaler cet email au service informatique est la meilleure chose √† faire. Vous prot√©gez ainsi toute l'entreprise.</p>
                <button onclick="closeModal()" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg shadow">Continuer</button>
            `;
            emailContentModal.classList.add('hidden');
            phishingFeedbackModal.classList.remove('hidden');
        }

        // --- QUIZ MODULE 2 ---
        const quizDataM2 = [
            { question: "Lequel de ces mots de passe est le plus s√©curis√© ?", options: ["Motdepasse2024", "Mdp!", "MonChienSappelleMedor", "Tr@v&il-L!vr3-P0rt3"], answer: 3 },
            { question: "Vous recevez un email URGENT de la 'Direction Informatique' vous demandant de cliquer sur un lien pour r√©initialiser votre mot de passe. C'est probablement...", options: ["Une proc√©dure standard", "Une tentative de phishing", "Un bug du syst√®me", "Un email informatif"], answer: 1 },
            { question: "Un ransomware est un logiciel malveillant qui...", options: ["Vole vos mots de passe", "Affiche de la publicit√© non d√©sir√©e", "Chiffre vos fichiers et demande une ran√ßon", "Ralentit votre ordinateur"], answer: 2 },
            { question: "Utiliser votre compte Dropbox personnel pour partager un gros fichier client est un exemple de...", options: ["Bonne initiative", "Cloud Computing", "Shadow IT", "Sauvegarde s√©curis√©e"], answer: 2 },
            { question: "Le principal danger du 'Shadow IT' pour une entreprise est...", options: ["Le co√ªt des abonnements personnels", "La perte de contr√¥le et le risque de fuite des donn√©es de l'entreprise", "La surcharge du r√©seau internet", "La jalousie entre coll√®gues"], answer: 1 },
            { question: "Vous trouvez une cl√© USB inconnue sur le parking de l'entreprise. Que faites-vous ?", options: ["Vous la branchez sur votre PC pour voir √† qui elle appartient", "Vous la gardez pour vous", "Vous ne la touchez pas et pr√©venez la s√©curit√© ou le service IT", "Vous la jetez √† la poubelle"], answer: 2 },
            { question: "Quel est le meilleur r√©flexe face √† un email inattendu contenant une pi√®ce jointe ?", options: ["L'ouvrir imm√©diatement pour voir ce que c'est", "Contacter l'exp√©diteur par un autre moyen pour confirmer l'envoi", "La transf√©rer au service informatique sans l'ouvrir", "Supprimer l'email directement"], answer: 1 },
            { question: "Stocker un fichier client important sur le Cloud de l'entreprise plut√¥t que sur le bureau de votre PC permet de...", options: ["Partager plus facilement le fichier avec des personnes ext√©rieures", "Garantir sa sauvegarde et sa s√©curit√© m√™me en cas de vol ou de panne de votre ordinateur", "Le rendre accessible uniquement depuis votre bureau", "Le modifier plus rapidement"], answer: 1 },
            { question: "Un coll√®gue vous appelle et vous demande votre mot de passe en urgence pour d√©panner un client. Vous devriez...", options: ["Lui donner, car c'est un coll√®gue de confiance", "Refuser poliment et lui sugg√©rer de contacter le service informatique", "Lui donner mais le changer juste apr√®s", "Raccrocher sans rien dire"], answer: 1 },
            { question: "Pourquoi 'Azerty123' est-il un mauvais mot de passe ?", options: ["Il est trop court", "Il n'a pas de symbole", "C'est une suite logique et tr√®s courante, donc facile √† deviner pour un programme", "Il est difficile √† retenir"], answer: 2 },
        ];
        
        let currentQuestionM2 = 0;
        let scoreM2 = 0;
        const quizContainerM2 = document.getElementById('quiz-container-m2');
        if (quizContainerM2) {
            const questionTextElM2 = document.getElementById('quiz-question-text-m2');
            const optionsElM2 = document.getElementById('quiz-options-m2');
            const feedbackElM2 = document.getElementById('quiz-feedback-m2');
            const progressElM2 = document.getElementById('quiz-progress-m2');
            const navigationElM2 = document.getElementById('quiz-navigation-m2');
            
            function loadQuizM2() {
                if (currentQuestionM2 < quizDataM2.length) {
                    const q = quizDataM2[currentQuestionM2];
                    progressElM2.textContent = `Question ${currentQuestionM2 + 1} sur ${quizDataM2.length}`;
                    questionTextElM2.textContent = q.question;
                    optionsElM2.innerHTML = '';
                    feedbackElM2.innerHTML = '';
                    navigationElM2.innerHTML = '';

                    q.options.forEach((option, index) => {
                        const button = document.createElement('button');
                        button.textContent = option;
                        button.className = 'w-full text-left p-3 bg-white border rounded-lg hover:bg-gray-100 quiz-option';
                        button.onclick = () => selectAnswerM2(index, q.answer);
                        optionsElM2.appendChild(button);
                    });
                } else {
                    showFinalScoreM2();
                }
            }

            function selectAnswerM2(selectedIndex, correctIndex) {
                const buttons = optionsElM2.getElementsByTagName('button');
                Array.from(buttons).forEach(btn => btn.disabled = true);

                if (selectedIndex === correctIndex) {
                    buttons[selectedIndex].classList.add('bg-green-200', 'border-green-500');
                    feedbackElM2.textContent = 'Bonne r√©ponse !';
                    feedbackElM2.className = 'mt-4 text-center font-semibold text-green-700';
                    scoreM2++;
                } else {
                    buttons[selectedIndex].classList.add('bg-red-200', 'border-red-500');
                    buttons[correctIndex].classList.add('bg-green-200', 'border-green-500');
                    feedbackElM2.textContent = 'R√©ponse incorrecte.';
                    feedbackElM2.className = 'mt-4 text-center font-semibold text-red-700';
                }

                const nextQuestionBtn = document.createElement('button');
                nextQuestionBtn.textContent = 'Question Suivante ‚Üí';
                nextQuestionBtn.className = 'bg-blue-600 text-white px-5 py-2 rounded-lg shadow hover:bg-blue-700';
                nextQuestionBtn.onclick = () => {
                    currentQuestionM2++;
                    loadQuizM2();
                };
                navigationElM2.appendChild(nextQuestionBtn);
            }

            function showFinalScoreM2() {
                document.getElementById('quiz-question-container-m2').style.display = 'none';
                navigationElM2.innerHTML = '';
                let message = `Votre score final : ${scoreM2} / ${quizDataM2.length}.`;
                if(scoreM2 > 7) message += " Vos r√©flexes de s√©curit√© sont excellents !";
                else if(scoreM2 > 4) message += " Vous avez les bases, continuez √† √™tre vigilant !";
                else message += " La s√©curit√© est un point crucial, n'h√©sitez pas √† revoir les bonnes pratiques.";

                feedbackElM2.textContent = message;
                feedbackElM2.className = 'mt-4 text-center font-bold text-xl text-blue-800';
            }
            
            document.addEventListener('DOMContentLoaded', loadQuizM2());
        }
    </script>
</body>
</html>

